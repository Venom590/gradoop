<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<datasource xmlns="http://www.gradoop.org/csvInput"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://www.gradoop.org/csvInput
            http://www.gradoop.org/csvInput/csv_format.xsd"
            name="testDatasource">

    <domain name="testDomain">

        <csv name="test_graph.csv" charset="utf8" separator="|">
            <columns>
                <column id="0" pos="0" type="Long"/>
            </columns>
            <graphhead>
                <key scope="testGraph">
                    <ref column_id="0"/>
                </key>
                <label separator="_">
                    <static name="graphNo"/>
                    <ref column_id="0"/>
                </label>
            </graphhead>
        </csv>
        <csv name="test_vertex.csv" charset="utf8" separator="|">
            <columns>
                <column id="0" pos="0" type="Long"/>
                <column id="1" pos="1" type="String"/>
                <column id="2" pos="2" type="String"/>
                <column id="3" pos="3" type="Long"/>
                <column id="4" pos="4" type="String"/>
            </columns>
            <vertex>
                <key scope="testVertex">
                    <ref column_id="0"/>
                </key>
                <label separator="_">
                    <ref column_id="1"/>
                    <ref column_id="2"/>
                </label>
                <properties>
                    <property column_id="0" name="originalID"/>
                    <property column_id="1" name="label1"/>
                    <property column_id="2" name="label2"/>
                </properties>
                <graphs>
                    <static name="1"/>
                </graphs>
                <edges>
                    <vertexedge>
                        <key scope="testVertexEdge">
                            <ref column_id="0"/>
                            <ref column_id="3"/>
                        </key>
                        <properties>
                            <property column_id="4" name="connectedSince"/>
                        </properties>
                        <graphs>
                            <static name="1"/>
                        </graphs>
                        <target>
                            <ref column_id="3"/>
                        </target>
                    </vertexedge>
                </edges>
            </vertex>
        </csv>
        <csv name="test_edge.csv" charset="utf8" separator="|">
            <columns>
                <column id="0" pos="0" type="String"/>
                <column id="1" pos="1" type="Long"/>
                <column id="2" pos="2" type="Long"/>
                <column id="3" pos="3" type="Long"/>
            </columns>
            <edge>
                <key scope="testEdge">
                    <ref column_id="1"/>
                    <ref column_id="2"/>
                </key>
                <label>
                    <ref column_id="0"/>
                </label>

                <properties>
                    <property column_id="1" name="originialSourceID"/>
                    <property column_id="2" name="originialTargetID"/>
                </properties>
                <graphs>
                    <ref column_id="3"/>
                </graphs>
                <source>
                    <ref column_id="1"/>
                </source>
                <target>
                    <ref column_id="2"/>
                </target>
            </edge>
        </csv>
    </domain>

    <domain name="secondDomain">

        <csv name="secondGraph.csv" charset="utf8" separator="(">
            <columns>
                <column id="0" pos="0" type="Long"/>
                <column id="1" pos="1" type="Long"/>
                <column id="2" pos="2" type="Long"/>
            </columns>
            <graphhead>
                <key scope="secondGraph">
                    <ref column_id="0"/>
                </key>
                <label separator=":">
                    <static name="graph"/>
                    <ref column_id="0"/>
                </label>
                <properties>
                    <property column_id="1" name="attribute1"/>
                    <property column_id="2" name="attribute2"/>
                </properties>
            </graphhead>
        </csv>
        <csv name="second_vertex.csv" charset="utf8" separator="*">
            <columns>
                <column id="0" pos="0" type="Long"/>
            </columns>
            <vertex>
                <key scope="secondVertex">
                    <ref column_id="0"/>
                </key>
                <graphs>
                    <static name="2"/>
                </graphs>

            </vertex>
        </csv>
        <csv name="third_vertex.csv" charset="utf8" separator="*">
            <columns>
                <column id="0" pos="0" type="Long"/>
                <column id="1" pos="1" type="String"/>
                <column id="2" pos="2" type="Long"/>
            </columns>
            <vertex>
                <key scope="thirdVertex">
                    <ref column_id="0"/>
                </key>
                <label>
                    <ref column_id="1"/>
                </label>
                <graphs>
                    <reference domain_name="testDomain">
                        <key scope="">
                            <ref column_id="2"/>
                        </key>
                    </reference>
                </graphs>
                <edges>
                    <vertexedge>
                        <key scope="thirdVertexEdge">
                            <ref column_id="0"/>
                            <ref column_id="2"/>
                        </key>
                        <label>
                            <static name="FKedge"/>
                        </label>
                        <graphs>
                            <reference domain_name="testDomain">
                                <key scope="testGraph">
                                    <static name="1"/>
                                </key>
                            </reference>
                        </graphs>
                        <target>
                            <reference domain_name="testDomain">
                                <key scope="testVertex">
                                    <ref column_id="2"/>
                                </key>
                            </reference>
                        </target>
                    </vertexedge>
                </edges>
            </vertex>
        </csv>
        <csv name="second_edge.csv" charset="utf8" separator="|">
            <columns>
                <column id="0" pos="0" type="String"/>
                <column id="1" pos="1" type="Long"/>
                <column id="2" pos="2" type="Long"/>
                <column id="3" pos="1" type="Long"/>
            </columns>
            <edge>
                <key scope="secondEdge">
                    <ref column_id="1"/>
                    <ref column_id="2"/>
                </key>
                <label>
                    <ref column_id="0"/>
                </label>
                <properties>
                    <property column_id="1" name="originialSourceID"/>
                    <property column_id="2" name="originialTargetID"/>
                </properties>
                <graphs>
                    <reference datasource_name="Another Datasource">
                        <key scope="AnotherSource">
                            <ref column_id="3"/>
                        </key>
                    </reference>
                </graphs>
                <source>
                    <ref column_id="1"/>
                </source>
                <target>
                    <ref column_id="2"/>
                </target>
            </edge>
        </csv>
    </domain>
</datasource>
